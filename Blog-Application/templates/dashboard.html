{% extends 'base.html'%}
{% block content %}
{% for message in get_flashed_messages() %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
  {{message}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endfor %}

<h1>
Dashboard
</h1>
<br>
<strong>Name:</strong> {{current_user.name}}<br>
<strong>Username:</strong> {{current_user.username}}<br>
<strong>Id:</strong> {{current_user.id}}<br>
<strong>Email:</strong> {{current_user.email}}<br>
<strong>Favourite Color:</strong> {{current_user.fav_color}}<br>
<strong>Date Joined:</strong> {{current_user.date_added}}<br><br>
<a href="{{url_for('delete',id=current_user.id)}}" class='btn btn-outline-secondary' >Delete</a>
<a href="{{url_for('update',id=current_user.id)}}" class='btn btn-outline-secondary' >Update</a>
<a href="{{url_for('logout')}}" class='btn btn-outline-secondary' >Logout</a>
<br><br>
<div class="card bg-dark">
  <div class="card-header">
    Update Profile
  </div>
  <div class="card-body">

    <form action ="/dashboard"  method="POST">
      {{ form.hidden_tag() }}
    
      {{ form.name.label(class="form-label") }}
      {{ form.name(class="form-control", value = name_to_update.name) }}
      <br>
      {{ form.username.label(class="form-label") }}
      {{ form.username(class="form-control", value = name_to_update.username) }}
      <br>
      {{ form.email.label(class="form-label") }}
      {{ form.email(class="form-control", value = name_to_update.email) }}
      <br>
      {{ form.fav_color.label(class="form-label") }}
      {{ form.fav_color(class="form-control", value = name_to_update.fav_color) }}
      <br>
      {{ form.submit(class="btn btn-secondary") }}
    
    </form>

  </div>
</div>


{% endblock %}